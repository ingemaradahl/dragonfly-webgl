<!doctype HTML>
<script>
var test = function()
{
  var evt = document.createEvent("CustomEvent");
  evt.initCustomEvent("test", true, true, null);
  document.body.dispatchEvent(evt);
}
document.addEventListener('test', function(event)
{
  this.getElementsByTagName('pre')[0].textContent += event.type + "\n";
}, false);
</script>
<p><input type="button" value="Dispatch custom event &quot;test&quot;" onclick="test()">
<pre></pre>